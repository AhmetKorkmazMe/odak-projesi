<!DOCTYPE html>
<html lang="tr">
<head>
    <title>Görsel Analiz Sonuçları</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.2/simple-lightbox.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="container result-page-body">
    <div class="text-center result-header">
        <h1>Görsel Analiz Raporu</h1>
        <a href="{{ url_for('cleanup_and_home', filename=original_filename) }}" class="btn-secondary-outline mt-3">Yeni Analiz Yap</a>
    </div>

    <section class="content-section">
        <h2>Skorların Değerlendirmesi</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-striped align-middle">
                <thead class="table-dark">
                    <tr>
                        <th>Metrik</th>
                        <th>Skorunuz</th>
                        <th>Referans Aralık</th>
                        <th style="width: 50%;">Yorum ve Öneriler</th>
                    </tr>
                </thead>
                <tbody>
                    {% for metric in interpretation_table %}
                    <tr>
                        <td><b>{{ metric.name }}</b></td>
                        <td class="text-center"><span class="badge fs-5 rounded-pill {{ metric.badge_class }}">{{ metric.score }}</span></td>
                        <td class="text-center">{{ metric.reference }}</td>
                        <td>{{ metric.interpretation }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </section>

    <section class="content-section">
        <h2>Grafiksel ve Detaylı Analiz</h2>
        <div class="row image-gallery">
            <div class="col-md-6">
                <h5>Metriklerin Dağılımı (Sütun)</h5>
                <a href="{{ bar_chart_url }}" class="lightbox-trigger">
                    <img src="{{ bar_chart_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
            <div class="col-md-6">
                <h5>Metriklerin Dengesi (Radar)</h5>
                <a href="{{ line_chart_url }}" class="lightbox-trigger">
                    <img src="{{ line_chart_url }}" class="result-img">
                     <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
             <div class="col-md-6">
                <h5>Orijinal Görsel</h5>
                <a href="{{ original_url }}" class="lightbox-trigger">
                    <img src="{{ original_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
            <div class="col-md-6">
                <h5>Isı Haritası</h5>
                <a href="{{ heatmap_url }}" class="lightbox-trigger">
                    <img src="{{ heatmap_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
            <div class="col-md-4">
                <h5>Odak Haritası</h5>
                <a href="{{ focus_url }}" class="lightbox-trigger">
                    <img src="{{ focus_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
            <div class="col-md-4">
                <h5>Bakış Rotası</h5>
                <a href="{{ gaze_url }}" class="lightbox-trigger">
                    <img src="{{ gaze_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
            <div class="col-md-4">
                <h5>CTA Tespiti</h5>
                <a href="{{ cta_url }}" class="lightbox-trigger">
                    <img src="{{ cta_url }}" class="result-img">
                    <div class="overlay"><svg class="zoom-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"></path><path d="M11.5 9.5H10v-1.5a.5.5 0 0 0-1 0V9.5H7.5a.5.5 0 0 0 0 1H9v1.5a.5.5 0 0 0 1 0V10.5h1.5a.5.5 0 0 0 0-1z"></path></svg></div>
                </a>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="wrap">
            <p>
                Geliştirici: <a href="https://ahmetkorkmaz.me" target="_blank" rel="noopener noreferrer">Ahmet Korkmaz</a> | 
                <a href="{{ url_for('documentation') }}">Teknik Dokümantasyon</a>
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.2/simple-lightbox.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            new SimpleLightbox('a.lightbox-trigger');
        });
    </script>
</body>
</html>
