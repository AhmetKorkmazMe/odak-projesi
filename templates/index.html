<!doctype html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <title>Odak Projesi Â· Yapay Zeka Destekli Dikkat Analizi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="page-index">
    
    <div id="progressOverlay" class="progress-overlay" style="display: none;">
        <div class="progress-content">
            <h2 id="progressTitle">Analiz YapÄ±lÄ±yor...</h2>
            <div class="progress mt-3 mb-2">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;"></div>
            </div>
            <p id="progressText" style="font-size: 1.1rem;">Ä°ÅŸlem baÅŸlatÄ±lÄ±yor...</p>
        </div>
    </div>

    <header class="site-header">
        <div class="wrap">
            <h1 class="brand">Odak Proje</h1>
            <p class="subtitle">Yapay Zeka Destekli GÃ¶rsel & Video Dikkat Analizi</p>
        </div>
    </header>

    <main class="wrap">
        <div class="upload-container">
            <section class="upload-section">
                <h2>GÃ¶rsel Analizi</h2>
                <p class="lead">Pazarlama materyalleriniz, web sitesi tasarÄ±mlarÄ±nÄ±z veya afiÅŸleriniz iÃ§in dikkat analizi yapÄ±n.</p>
                <form id="ImageForm" class="upload-card" action="/upload_image" method="post" enctype="multipart/form-data">
                    <div id="dropzoneImage" class="dropzone" tabindex="0">
                        <input id="fileInputImage" type="file" name="file" accept="image/jpeg,image/png,image/webp,image/bmp" required>
                        <div class="dz-visual">
                            <div class="dz-icon">ğŸ–¼ï¸</div>
                            <div class="dz-text"><strong>GÃ¶rseli sÃ¼rÃ¼kle</strong> ya da <span class="btn-link">dosya seÃ§</span></div>
                            <div class="dz-sub">JPG, PNG, WEBP, BMP</div>
                        </div>
                    </div>
                </form>
            </section>

            <section class="upload-section">
                <h2>Video Analizi</h2>
                <p class="lead">Web sitesi veya uygulama kullanÄ±mÄ±nÄ± iÃ§eren ekran kayÄ±tlarÄ±nÄ±zÄ± analiz edin.</p>
                <form id="VideoForm" class="upload-card" action="/upload_video" method="post" enctype="multipart/form-data">
                    <div id="dropzoneVideo" class="dropzone" tabindex="0">
                        <input id="fileInputVideo" type="file" name="file" accept="video/mp4,video/webm,video/quicktime" required>
                        <div class="dz-visual">
                            <div class="dz-icon">ğŸ“¹</div>
                            <div class="dz-text"><strong>Videoyu sÃ¼rÃ¼kle</strong> ya da <span class="btn-link">dosya seÃ§</span></div>
                            <div class="dz-sub">MP4, WEBM, MOV</div>
                        </div>
                    </div>
                </form>
            </section>
        </div>

        <section class="info-section">
            <div class="accordion">
                <h3>NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                <div class="accordion-item">
                    <button class="accordion-header">Genel BakÄ±ÅŸ ve Teknoloji</button>
                    <div class="accordion-content"><p>Odak Projesi, tasarÄ±mlarÄ±nÄ±zÄ±n kullanÄ±cÄ± dikkatini nasÄ±l Ã§ektiÄŸini analiz etmek iÃ§in BilgisayarlÄ± GÃ¶rÃ¼ (Computer Vision) tekniklerini kullanÄ±r. Sistem, yÃ¼klenen gÃ¶rselleri veya videolarÄ± belirli kriterlere gÃ¶re iÅŸleyerek somut ve eyleme geÃ§irilebilir Ã§Ä±ktÄ±lar Ã¼retir.</p></div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">IsÄ± HaritasÄ± (Heatmap)</button>
                    <div class="accordion-content"><p>Bu analiz, Belirginlik Tespiti (Saliency Detection) adÄ± verilen yapay zeka tekniÄŸini kullanÄ±r. Renk, kontrast ve parlaklÄ±k gibi gÃ¶rsel unsurlarÄ± analiz ederek bir kullanÄ±cÄ±nÄ±n tasarÄ±ma ilk baktÄ±ÄŸÄ±nda en Ã§ok nerelere odaklanacaÄŸÄ±nÄ± tahmin eder. Bu sayede, tasarÄ±mÄ±nÄ±zÄ±n veya websitenizin en dikkat Ã§eken ve en sÃ¶nÃ¼k kalan alanlarÄ±nÄ± objektif verilerle gÃ¶rerek, "acaba bu bÃ¶lÃ¼m fark edilir mi?" sorusuna net bir yanÄ±t bulursunuz.</p></div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Odak HaritasÄ± (Focus Map)</button>
                    <div class="accordion-content"><p>IsÄ± haritasÄ±ndaki genel dikkat daÄŸÄ±lÄ±mÄ±nÄ± analiz ederek, kullanÄ±cÄ±nÄ±n gÃ¶zÃ¼nÃ¼n kilitleneceÄŸi birincil ve ikincil odak noktalarÄ±nÄ± belirler. Teknik olarak, en yÃ¼ksek dikkat yoÄŸunluÄŸuna sahip bÃ¶lgeler aydÄ±nlatÄ±lÄ±rken geri kalanlar karartÄ±lÄ±r. Bu analizle, ana Ã¼rÃ¼nÃ¼nÃ¼zÃ¼n, baÅŸlÄ±ÄŸÄ±nÄ±zÄ±n veya Ã¶nemli bir mesajÄ±n, sayfa Ã¼zerindeki diÄŸer elementler arasÄ±ndan sÄ±yrÄ±lÄ±p sÄ±yrÄ±lamadÄ±ÄŸÄ±nÄ± kolayca test edebilirsiniz.</p></div>
                </div>
                 <div class="accordion-item">
                    <button class="accordion-header">BakÄ±ÅŸ RotasÄ± (Gaze Plot)</button>
                    <div class="accordion-content"><p>KullanÄ±cÄ±nÄ±n gÃ¶zÃ¼nÃ¼n, odak noktalarÄ± arasÄ±nda hangi sÄ±rayla gezineceÄŸini tahmin eden bir simÃ¼lasyondur. Dikkat seviyesi en yÃ¼ksek noktalardan baÅŸlayarak olasÄ± bir okuma ve anlama rotasÄ± Ã§izilir. Bu Ã§Ä±ktÄ± sayesinde tasarÄ±mÄ±nÄ±zdaki bilgi akÄ±ÅŸÄ±nÄ±n ne kadar sezgisel olduÄŸunu anlar, kullanÄ±cÄ±larÄ±n istediÄŸiniz sÄ±rada mÄ± (Ã¶rneÄŸin, Ã¶nce baÅŸlÄ±k, sonra buton) ilerlediÄŸini gÃ¶rerek kullanÄ±cÄ± deneyimini (UX) iyileÅŸtirebilirsiniz.</p></div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">CTA Tespiti (Eyleme Ã‡aÄŸrÄ± ButonlarÄ±)</button>
                    <div class="accordion-content"><p>Bu analiz, butonlarÄ± iki farklÄ± teknikle arar: Ä°lki, Optik Karakter TanÄ±ma (OCR) ile buton Ã¼zerindeki metinleri okur. Ä°kinci olarak da, Desen TanÄ±ma (Pattern Recognition) ile alÄ±ÅŸveriÅŸ sepeti gibi yaygÄ±n ikonlarÄ± tanÄ±r. BÃ¶ylece, "SatÄ±n Al" veya "Ãœye Ol" gibi kritik butonlarÄ±nÄ±zÄ±n ne kadar gÃ¶rÃ¼nÃ¼r olduÄŸunu Ã¶lÃ§erek dÃ¶nÃ¼ÅŸÃ¼m oranlarÄ±nÄ±zÄ± artÄ±rmak iÃ§in doÄŸrudan optimizasyon yapma imkanÄ± bulursunuz.</p></div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Video Analizi</button>
                    <div class="accordion-content"><p>Video dosyalarÄ±, ekranda Ã¶nemli bir gÃ¶rsel deÄŸiÅŸiklik olduÄŸunda (Ã¶rneÄŸin, bir menÃ¼ aÃ§Ä±ldÄ±ÄŸÄ±nda veya sayfa deÄŸiÅŸtiÄŸinde) sistemin otomatik olarak yakaladÄ±ÄŸÄ± Anahtar Kareler (Key Frames) Ã¼zerinden analiz edilir. Yakalanan her bir anahtar kare iÃ§in yukarÄ±daki tÃ¼m analizler (IsÄ± HaritasÄ±, CTA Tespiti vb.) ayrÄ± ayrÄ± uygulanÄ±r. Bu yÃ¶ntemle, bir kullanÄ±cÄ± yolculuÄŸunun kritik anlarÄ±nda dikkatin nereye odaklandÄ±ÄŸÄ±nÄ±, arayÃ¼z deÄŸiÅŸikliklerinin kullanÄ±cÄ± davranÄ±ÅŸÄ±nÄ± nasÄ±l etkilediÄŸini ve hangi tasarÄ±mÄ±n zaman iÃ§inde daha baÅŸarÄ±lÄ± olduÄŸunu somut verilerle anlayabilirsiniz.</p></div>
                </div>

                <h3 class="mt-5">Gizlilik ve Veri GÃ¼venliÄŸi</h3>
                 <div class="accordion-item">
                    <button class="accordion-header">Veri Saklama PolitikasÄ±</button>
                    <div class="accordion-content"><p>YÃ¼klediÄŸiniz hiÃ§bir gÃ¶rsel veya video sunucuda kalÄ±cÄ± olarak saklanmaz. Sistem, verilerinizi sadece analiz sÃ¼resince geÃ§ici olarak iÅŸlemek Ã¼zere tasarlanmÄ±ÅŸtÄ±r.</p></div>
                </div>
                 <div class="accordion-item">
                    <button class="accordion-header">Otomatik Silme SÃ¼reci</button>
                    <div class="accordion-content"><p>Analiz sonuÃ§larÄ±nÄ± gÃ¶rÃ¼ntÃ¼lediÄŸiniz sayfadan ayrÄ±ldÄ±ÄŸÄ±nÄ±zda (Ã¶rneÄŸin "Yeni Analiz Yap" butonuna tÄ±kladÄ±ÄŸÄ±nÄ±zda veya sekmeyi kapattÄ±ÄŸÄ±nÄ±zda), yÃ¼klediÄŸiniz orijinal dosya ve Ã¼retilen tÃ¼m analiz sonuÃ§larÄ± otomatik ve geri dÃ¶ndÃ¼rÃ¼lemez bir ÅŸekilde silinir.</p></div>
                </div>
                 <div class="accordion-item">
                    <button class="accordion-header">Oturum GÃ¼venliÄŸi</button>
                    <div class="accordion-content"><p>Her analiz oturumu tamamen baÄŸÄ±msÄ±z ve size Ã¶zeldir. Siz oturumu sonlandÄ±rdÄ±ÄŸÄ±nÄ±zda, o oturuma ait tÃ¼m izler de sunucudan kalÄ±cÄ± olarak yok olur.</p></div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="wrap">
            <p>
                GeliÅŸtirici: <a href="https://ahmetkorkmaz.me" target="_blank" rel="noopener noreferrer">Ahmet Korkmaz</a> | 
                <a href="{{ url_for('documentation') }}">Teknik DokÃ¼mantasyon</a>
                </p>
        </div>
    </footer>
    <script>
        const overlay = document.getElementById('progressOverlay');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const progressTitle = document.getElementById('progressTitle');
        const dropzoneImage = document.getElementById('dropzoneImage');
        const dropzoneVideo = document.getElementById('dropzoneVideo');

        function simulateProgress(isVideo) {
            overlay.style.display = 'flex';
            dropzoneImage.classList.add('disabled');
            dropzoneVideo.classList.add('disabled');

            const steps = isVideo 
                ? [ { percent: 10, text: "Video sunucuya yÃ¼kleniyor..." }, { percent: 25, text: "Anahtar kareler ayÄ±klanÄ±yor..." }, { percent: 50, text: "Kareler analiz ediliyor..." }, { percent: 95, text: "SonuÃ§lar hazÄ±rlanÄ±yor..." } ]
                : [ { percent: 15, text: "GÃ¶rsel sunucuya yÃ¼kleniyor..." }, { percent: 40, text: "Dikkat haritalarÄ± oluÅŸturuluyor..." }, { percent: 75, text: "CTA ve bakÄ±ÅŸ rotasÄ± analizi yapÄ±lÄ±yor..." }, { percent: 95, text: "SonuÃ§lar hazÄ±rlanÄ±yor..." } ];
            
            let currentStep = 0;
            function updateStep() {
                if (currentStep < steps.length) {
                    progressBar.style.width = steps[currentStep].percent + '%';
                    progressText.textContent = steps[currentStep].text;
                    currentStep++;
                    setTimeout(updateStep, 1800);
                }
            }
            updateStep();
        }

        function setupUploader(type, isVideo) {
            const form = document.getElementById(`${type}Form`);
            const dz = document.getElementById(`dropzone${type}`);
            const fi = document.getElementById(`fileInput${type}`);

            dz.addEventListener('click', () => fi.click());
            dz.addEventListener('dragover', e => { e.preventDefault(); dz.classList.add('dragover'); });
            dz.addEventListener('dragleave', () => dz.classList.remove('dragover'));
            dz.addEventListener('drop', e => {
                e.preventDefault();
                dz.classList.remove('dragover');
                if (e.dataTransfer.files.length) { fi.files = e.dataTransfer.files; handleFile(); }
            });
            fi.addEventListener('change', handleFile);

            function handleFile() {
                if (!fi.files[0]) return;
                progressTitle.textContent = isVideo ? "Video Analiz Ediliyor..." : "GÃ¶rsel Analiz Ediliyor...";
                simulateProgress(isVideo);
                form.submit();
            }
        }

        setupUploader('Image', false);
        setupUploader('Video', true);

        const accordionHeaders = document.querySelectorAll(".accordion-header");
        accordionHeaders.forEach(header => {
            header.addEventListener("click", event => {
                header.classList.toggle("active");
                const accordionContent = header.nextElementSibling;
                if (header.classList.contains("active")) {
                    accordionContent.style.maxHeight = accordionContent.scrollHeight + "px";
                    accordionContent.style.padding = "0 1.5rem";
                    accordionContent.querySelector('p:last-child').style.paddingBottom = '1.5rem';
                } else {
                    accordionContent.style.maxHeight = 0;
                    accordionContent.style.padding = "0 1.5rem";
                }
            });
        });
    </script>
</body>
</html>
